# Changelog - 2026-02-20

## Docs and Config Updates

### 1) Added GitHub SSH port 22 troubleshooting docs and config

- Added Chinese troubleshooting doc: `docs/GitHub_SSH_22_Port_Blocking.md`
- Added English troubleshooting doc: `docs/en/GitHub_SSH_22_Port_Blocking.md`
- Added OpenClash config: `config_linkedin_auto_ssh22_redir.yaml`
  - Added rule: `DST-PORT,22,DIRECT`
  - Updated comments to a "general fix" wording (not topology-specific)

### 2) OpenClash guide now includes SSH 22 guidance

- Updated `docs/Openclash_Config.md`:
  - Added the SSH-22 fix config option
  - Unified recommendation: `redir-host` (or Redir) + `DST-PORT,22,DIRECT`

## Frontend and Routing Fix

### 3) Fixed EN -> ZH switch failure (404)

- Root cause: the doc key contained `&` (`OpenWrt_Backup&Resotre`), which caused static export/CDN resource issues (`index.txt?_rsc=...` 404)
- Fix: renamed file/key to remove special characters:
  - `docs/OpenWrt_Backup&Resotre.md` -> `docs/OpenWrt_Backup_Resotre.md`
  - `docs/en/OpenWrt_Backup&Resotre.md` -> `docs/en/OpenWrt_Backup_Resotre.md`
- Updated all references in:
  - `README.md`
  - `README_EN.md`
  - `docs/System_Maintenance.md`
  - `frontend/components/HomePage.tsx`

### 4) Fixed "查看中文" on EN homepage bouncing back to EN

- Symptom: clicking "查看中文" on the English homepage redirected back to `/en/`
- Root cause: `LocaleAutoRedirect` uses saved locale preference, while the homepage button previously navigated without updating preference
- Fix:
  - Added `frontend/components/LocalePreferenceLink.tsx`
  - Homepage locale action now writes `riw-docs-locale` before navigation
  - Updated `frontend/components/HomePage.tsx`

## Validation

- Frontend build passed (Next.js static export).
- Exported routes now use `OpenWrt_Backup_Resotre` (no `%26` route output).
- EN page can switch to ZH correctly.
